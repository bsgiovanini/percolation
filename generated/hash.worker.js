!function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var s=i(1),o=n(s),r=i(2);self.onmessage=function(t){for(var e=t.data,i=e.n,n=e.s,s=0,u=[],h=1;h<=n;h++){for(var a=!1,d=new o.default(i+2),c=0;!a;){var f=(0,r.getRandomInt)(1,i+1),l=d.connectNeighbors(f);a=d.percolates(),l&&c++}var p=c/i;u.push(p),s+=p}var v=s/n,m=u.map(function(t){return Math.pow(t-v,2)}).reduce(function(t,e){return t+e},0);m/=n-1;var g=Math.sqrt(m);console.log("Posting message back to main script",v,g),self.postMessage({finalRatio:v,stddev:g})}},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(){function t(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];i(this,t),this.bw=n,this.dim=Math.sqrt(e-2),this.nodeZeroId=e-1,this.nodeEndId=e,this.sw=[],this.id=[],this.open=[];for(var s=1;s<=e;s++)this.sw[s]=1,this.id[s]=s,this.open[s]=!1;this.open[this.nodeZeroId]=n,this.open[this.nodeEndId]=n,this.counter=e}return n(t,[{key:"root",value:function(t){for(;t!=this.id[t];)this.id[t]=this.id[this.id[t]],t=this.id[t];return t}},{key:"openSite",value:function(t){this.open[t]=!0}},{key:"isOpened",value:function(t){return this.open[t]}},{key:"connectNeighbors",value:function(t){var e=this;return!this.isOpened(t)&&(this.openSite(t),this.getAllNeighbors(t).forEach(function(i){e.isOpened(i)&&e.union(t,i)}),!0)}},{key:"percolates",value:function(){return this.isConnected(this.nodeZeroId,this.nodeEndId)}},{key:"getAllNeighbors",value:function(t){var e=Math.ceil(t/this.dim),i=t%this.dim===0?this.dim:t%this.dim,n=[];if(e>1){var s=this.dim*(e-2)+i;n.push(s)}else n.push(this.nodeZeroId);if(e<this.dim){var o=this.dim*e+i;n.push(o)}else n.push(this.nodeEndId);if(i>1){var r=this.dim*(e-1)+i-1;n.push(r)}if(i<this.dim){var u=this.dim*(e-1)+i+1;n.push(u)}return n}},{key:"union",value:function(t,e){var i=this.root(t),n=this.root(e);return i!==n&&(this.sw[i]<this.sw[n]?(this.id[i]=n,this.sw[n]+=this.sw[i]):(this.id[n]=i,this.sw[i]+=this.sw[n]),this.counter--),this}},{key:"isConnected",value:function(t,e){return this.root(t)===this.root(e)}}]),t}();e.default=s},function(t,e){"use strict";function i(t,e){return Math.floor(Math.random()*(e-t))+t}Object.defineProperty(e,"__esModule",{value:!0}),e.getRandomInt=i}]);